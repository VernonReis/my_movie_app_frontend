<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
  body {
    font-family: "Lato", sans-serif;
    background-image: url(https://static.pexels.com/photos/109669/pexels-photo-109669.jpeg);
    background-size: cover;
  }

  .sidenav {
    height: 100%;
    width: 0;
    position: fixed;
    z-index: 1;
    top: 0;
    right: 0;
    background-color:#F8F8F8;
    overflow-x: hidden;
    transition: 0.5s;
    padding-top: 60px;
  }

  .sidenav a {
    padding: 8px 8px 8px 32px;
    text-decoration: none;
    font-size: 25px;
    color: black;
    display: block;
    transition: 0.3s;
  }

  .sidenav a:hover {
    color: black;
  }

  .sidenav .closebtn {
    position: absolute;
    top: 0;
    right: 25px;
    font-size: 36px;
    margin-left: 50px;
  }
  body {margin:0;}

  .topnav {
    overflow: hidden;
    background-color: lightgray;
  }

  .topnav a {
    float: left;
    color: black;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 12px;
  }

  .topnav a:hover {
    background-color: white;
    color: black;
  }



  .topnav a.active {
    background-color: #4CAF50;
    color: white;
  }

  .right {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    padding-right: 20px;
  }

  input[type=text], input[type=password] {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }

  .sideNavPadding {
    padding: 0 15px;
  }

  /* w3schools login buttons */
  /* https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_login_form */
  button {
    background-color: #4CAF50;
    color: white;
    padding: 14px 20px;
    margin: 8px 0;
    border: none;
    cursor: pointer;
    width: 100%;
  }

  button:hover {
    opacity: 0.8;
  }
  .closebtn:hover {
    color:white;
  }

  /* @media screen and (max-height: 450px) {
  .sidenav {
  padding-top: 15px;
}
.sidenav a {
font-size: 18px;
}
} */
</style>
</head>

<body>
  <div class="topnav">

    <a href="#">MOVIES</a>

    <div class="right">
      <a ng-if='ctrl.user'>
        Welcome, {{ ctrl.user.username }} !</a>


        <!-- if not logged in -->
        <!-- <a ng-if='!ctrl.user'> -->
        <a href="#" onclick="openNavLogin()">
          <span class="glyphicon glyphicon-log-in"></span> Login</a>
          <!-- </a> -->
          <!-- <a ng-if='!ctrl.user'> -->
          <a href="#" onclick="openNav()">
            <span class="glyphicon glyphicon-user" ></span> Sign Up</a>
            <!-- </a> -->
            <!-- if logged in -->

            <a ng-if='ctrl.user' href="#" ng-click='ctrl.logout()'>
              <span class="glyphicon glyphicon-log-out"></span> Log Out</a>
            </a>
            <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
          </div>
        </div>

        <div id="mySidenav" class="sidenav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <br>

          <div class="sideNavPadding">
            <h2 class="sideNavH2">Sign Up</h2>

            <form class="formWidth" ng-submit='ctrl.registerUser()'>
              <div id="incorrectPassword"></div>
              <label for="username">Username: </label>
              <input type="text" class="form-control" placeholder="username" ng-model="ctrl.newUserForm.username" />

              <div class="form-group">
                <label for="pwd">Password: </label>
                <input type="password" class="form-control" placeholder="password" ng-model="ctrl.newUserForm.password" />
              </div>

              <button onclick="closeNavLogin()" type="submit">Sign Up</button>
            </form>
          </div>
        </div>

        <div id="mySidenavLogin" class="sidenav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNavLogin()">&times;</a>
          <br>
          <br>
          <div class="sideNavPadding">
            <h2 class="sideNavH2">Login</h2>
            <form class="formWidth" ng-submit='ctrl.loginUser()'>
              <div class="form-group">
                <label for="pwd">Username: </label>
                <input type="text" class="form-control" placeholder="username" ng-model="ctrl.loginForm.username" />
              </div>
              <div class="form-group">
                <label for="pwd">Password: </label>
                <input type="password" class="form-control" placeholder="password" ng-model="ctrl.loginForm.password" />
              </div>
              <div class="checkbox">

              </div>
              <button onclick="closeNav()" type="submit">Login</button>
            </form>

            <!-- <form ng-if='ctrl.user' ng-submit='ctrl.logout()'>
            <input type='submit' value='logout' />
          </form> -->


        </div>
      </div>

      <script>

      function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
      }
      function openNavLogin() {
        document.getElementById("mySidenavLogin").style.width = "250px";
      }
      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }
      function closeNavLogin() {
        document.getElementById("mySidenavLogin").style.width = "0";
      }

      </script>

    </body>
    </html>
